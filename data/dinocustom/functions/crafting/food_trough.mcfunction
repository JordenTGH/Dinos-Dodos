####################
#                  #
#                  #
#                  #
# Made by Ragnorak #
#                  #
#                  #
#                  #
####################

# - Place
execute at @e[type=minecraft:armor_stand] if block ~ ~ ~ dispenser[facing=up]{CustomName: "{\"text\":\"Zoology Crafter\"}", Items: [{Slot: 3b, id: "minecraft:oak_slab", Count: 1b}, {Slot: 5b, id: "minecraft:oak_slab", Count: 1b}, {Slot: 6b, id: "minecraft:oak_slab", Count: 1b}, {Slot: 7b, id: "minecraft:oak_slab", Count: 1b}, {Slot: 8b, id: "minecraft:oak_slab", Count: 1b}], id: "minecraft:dispenser", Lock: ""} run data merge block ~ ~ ~ {CustomName: "{\"text\":\"Zoology Crafter\"}", Items: [{Slot: 4b, id: "minecraft:armor_stand", Count: 1b, tag: {CustomModelData: 10, display: {Name: "{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}"}, EntityTag: {NoGravity: 1b, CustomName: "{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}", Invulnerable: 1b, Invisible: 1b, CustomNameVisible: 1b}}}], id: "minecraft:dispenser", Lock: ""}
execute at @e[type=minecraft:armor_stand] if block ~ ~ ~ dispenser[facing=up]{CustomName: "{\"text\":\"Zoology Crafter\"}", Items: [{Slot: 3b, id: "minecraft:spruce_slab", Count: 1b}, {Slot: 5b, id: "minecraft:spruce_slab", Count: 1b}, {Slot: 6b, id: "minecraft:spruce_slab", Count: 1b}, {Slot: 7b, id: "minecraft:spruce_slab", Count: 1b}, {Slot: 8b, id: "minecraft:spruce_slab", Count: 1b}], id: "minecraft:dispenser", Lock: ""} run data merge block ~ ~ ~ {CustomName: "{\"text\":\"Zoology Crafter\"}", Items: [{Slot: 4b, id: "minecraft:armor_stand", Count: 1b, tag: {CustomModelData: 10, display: {Name: "{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}"}, EntityTag: {NoGravity: 1b, CustomName: "{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}", Invulnerable: 1b, Invisible: 1b, CustomNameVisible: 1b}}}], id: "minecraft:dispenser", Lock: ""}
execute at @e[type=minecraft:armor_stand] if block ~ ~ ~ dispenser[facing=up]{CustomName: "{\"text\":\"Zoology Crafter\"}", Items: [{Slot: 3b, id: "minecraft:acacia_slab", Count: 1b}, {Slot: 5b, id: "minecraft:acacia_slab", Count: 1b}, {Slot: 6b, id: "minecraft:acacia_slab", Count: 1b}, {Slot: 7b, id: "minecraft:acacia_slab", Count: 1b}, {Slot: 8b, id: "minecraft:acacia_slab", Count: 1b}], id: "minecraft:dispenser", Lock: ""} run data merge block ~ ~ ~ {CustomName: "{\"text\":\"Zoology Crafter\"}", Items: [{Slot: 4b, id: "minecraft:armor_stand", Count: 1b, tag: {CustomModelData: 10, display: {Name: "{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}"}, EntityTag: {NoGravity: 1b, CustomName: "{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}", Invulnerable: 1b, Invisible: 1b, CustomNameVisible: 1b}}}], id: "minecraft:dispenser", Lock: ""}
execute at @e[type=minecraft:armor_stand] if block ~ ~ ~ dispenser[facing=up]{CustomName: "{\"text\":\"Zoology Crafter\"}", Items: [{Slot: 3b, id: "minecraft:dark_oak_slab", Count: 1b}, {Slot: 5b, id: "minecraft:dark_oak_slab", Count: 1b}, {Slot: 6b, id: "minecraft:dark_oak_slab", Count: 1b}, {Slot: 7b, id: "minecraft:dark_oak_slab", Count: 1b}, {Slot: 8b, id: "minecraft:dark_oak_slab", Count: 1b}], id: "minecraft:dispenser", Lock: ""} run data merge block ~ ~ ~ {CustomName: "{\"text\":\"Zoology Crafter\"}", Items: [{Slot: 4b, id: "minecraft:armor_stand", Count: 1b, tag: {CustomModelData: 10, display: {Name: "{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}"}, EntityTag: {NoGravity: 1b, CustomName: "{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}", Invulnerable: 1b, Invisible: 1b, CustomNameVisible: 1b}}}], id: "minecraft:dispenser", Lock: ""}
execute at @e[type=minecraft:armor_stand] if block ~ ~ ~ dispenser[facing=up]{CustomName: "{\"text\":\"Zoology Crafter\"}", Items: [{Slot: 3b, id: "minecraft:jungle_slab", Count: 1b}, {Slot: 5b, id: "minecraft:jungle_slab", Count: 1b}, {Slot: 6b, id: "minecraft:jungle_slab", Count: 1b}, {Slot: 7b, id: "minecraft:jungle_slab", Count: 1b}, {Slot: 8b, id: "minecraft:jungle_slab", Count: 1b}], id: "minecraft:dispenser", Lock: ""} run data merge block ~ ~ ~ {CustomName: "{\"text\":\"Zoology Crafter\"}", Items: [{Slot: 4b, id: "minecraft:armor_stand", Count: 1b, tag: {CustomModelData: 10, display: {Name: "{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}"}, EntityTag: {NoGravity: 1b, CustomName: "{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}", Invulnerable: 1b, Invisible: 1b, CustomNameVisible: 1b}}}], id: "minecraft:dispenser", Lock: ""}
execute at @e[type=minecraft:armor_stand] if block ~ ~ ~ dispenser[facing=up]{CustomName: "{\"text\":\"Zoology Crafter\"}", Items: [{Slot: 3b, id: "minecraft:birch_slab", Count: 1b}, {Slot: 5b, id: "minecraft:birch_slab", Count: 1b}, {Slot: 6b, id: "minecraft:birch_slab", Count: 1b}, {Slot: 7b, id: "minecraft:birch_slab", Count: 1b}, {Slot: 8b, id: "minecraft:birch_slab", Count: 1b}], id: "minecraft:dispenser", Lock: ""} run data merge block ~ ~ ~ {CustomName: "{\"text\":\"Zoology Crafter\"}", Items: [{Slot: 4b, id: "minecraft:armor_stand", Count: 1b, tag: {CustomModelData: 10, display: {Name: "{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}"}, EntityTag: {NoGravity: 1b, CustomName: "{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}", Invulnerable: 1b, Invisible: 1b, CustomNameVisible: 1b}}}], id: "minecraft:dispenser", Lock: ""}
execute as @e[type=minecraft:armor_stand,name="Food Trough"] at @s if entity @p[distance=..5,scores={Facing=1..1}] run summon armor_stand ~ ~ ~ {NoGravity:1b,Invulnerable:1b,Invisible:1b,Tags:["food_trough","north"]}
execute as @e[type=minecraft:armor_stand,name="Food Trough"] at @s if entity @p[distance=..5,scores={Facing=2..2}] run summon armor_stand ~ ~ ~ {NoGravity:1b,Invulnerable:1b,Invisible:1b,Tags:["food_trough","east"]}
execute as @e[type=minecraft:armor_stand,name="Food Trough"] at @s if entity @p[distance=..5,scores={Facing=3..3}] run summon armor_stand ~ ~ ~ {NoGravity:1b,Invulnerable:1b,Invisible:1b,Tags:["food_trough","south"]}
execute as @e[type=minecraft:armor_stand,name="Food Trough"] at @s if entity @p[distance=..5,scores={Facing=4..4}] run summon armor_stand ~ ~ ~ {NoGravity:1b,Invulnerable:1b,Invisible:1b,Tags:["food_trough","west"]}
execute as @e[type=minecraft:armor_stand,name="Food Trough"] at @s run tp @s ~ ~-1000 ~
execute as @e[type=minecraft:armor_stand,tag=food_trough,tag=!corpse,tag=!corpse,tag=!replaced] at @s run replaceitem entity @s armor.head minecraft:armor_stand{CustomModelData:10}
execute as @e[type=minecraft:armor_stand,tag=food_trough,tag=!corpse,tag=!corpse,tag=!replaced] at @s run tag @s add replaced
execute as @e[type=minecraft:armor_stand,tag=food_trough,tag=!corpse,tag=!corpse,tag=east] at @s run tp @s ~ ~ ~ 90 0
execute as @e[type=minecraft:armor_stand,tag=food_trough,tag=!corpse,tag=!corpse,tag=west] at @s run tp @s ~ ~ ~ -90 0
execute as @e[type=minecraft:armor_stand,tag=food_trough,tag=!corpse,tag=!corpse,tag=south] at @s run tp @s ~ ~ ~ -180 0
execute as @e[type=minecraft:armor_stand,tag=food_trough,tag=!corpse,tag=!corpse,tag=north] at @s run tp @s ~ ~ ~ 0 0
execute as @e[type=minecraft:armor_stand,tag=food_trough,tag=!corpse] at @s if block ~ ~-1 ~ air run summon item ~ ~1 ~ {CustomName:"{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}",Item:{id:"minecraft:armor_stand",Count:1b,tag:{display:{Name:"{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}"},CustomModelData:10,EntityTag:{CustomNameVisible:1b,NoGravity:1b,Invulnerable:1b,Invisible:1b,CustomName:"{\"text\":\"Food Trough\",\"color\":\"white\",\"italic\":\"false\"}"}}}}
execute as @e[type=minecraft:armor_stand,tag=food_trough,tag=!corpse] at @s if block ~ ~-1 ~ air run kill @s

# - Fill
scoreboard objectives add FishTrough dummy
scoreboard objectives add MeatTrough dummy
scoreboard objectives add PlantTrough dummy
execute as @e[tag=food_trough,tag=!corpse] at @s unless score @s MeatTrough matches 1.. unless score @s PlantTrough matches 1.. if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:cod",Count:1b}}] run scoreboard players add @s FishTrough 1
execute as @e[tag=food_trough,tag=!corpse] at @s unless score @s MeatTrough matches 1.. unless score @s PlantTrough matches 1.. if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:salmon",Count:1b}}] run scoreboard players add @s FishTrough 1
execute as @e[tag=food_trough,tag=!corpse] at @s unless score @s MeatTrough matches 1.. unless score @s PlantTrough matches 1.. if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:tropical_fish",Count:1b}}] run scoreboard players add @s FishTrough 1
execute as @e[tag=food_trough,tag=!corpse] at @s unless score @s MeatTrough matches 1.. unless score @s FishTrough matches 1.. if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:oak_leaves",Count:1b}}] run scoreboard players add @s PlantTrough 1
execute as @e[tag=food_trough,tag=!corpse] at @s unless score @s MeatTrough matches 1.. unless score @s FishTrough matches 1.. if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:birch_leaves",Count:1b}}] run scoreboard players add @s PlantTrough 1
execute as @e[tag=food_trough,tag=!corpse] at @s unless score @s MeatTrough matches 1.. unless score @s FishTrough matches 1.. if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:spruce_leaves",Count:1b}}] run scoreboard players add @s PlantTrough 1
execute as @e[tag=food_trough,tag=!corpse] at @s unless score @s MeatTrough matches 1.. unless score @s FishTrough matches 1.. if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:dark_oak_leaves",Count:1b}}] run scoreboard players add @s PlantTrough 1
execute as @e[tag=food_trough,tag=!corpse] at @s unless score @s MeatTrough matches 1.. unless score @s FishTrough matches 1.. if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:acacia_leaves",Count:1b}}] run scoreboard players add @s PlantTrough 1
execute as @e[tag=food_trough,tag=!corpse] at @s unless score @s MeatTrough matches 1.. unless score @s FishTrough matches 1.. if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:jungle_leaves",Count:1b}}] run scoreboard players add @s PlantTrough 1
execute as @e[tag=food_trough,tag=!corpse] at @s unless score @s FishTrough matches 1.. unless score @s PlantTrough matches 1.. if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:porkchop",Count:1b}}] run scoreboard players add @s MeatTrough 1
execute as @e[tag=food_trough,tag=!corpse] at @s unless score @s FishTrough matches 1.. unless score @s PlantTrough matches 1.. if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:beef",Count:1b}}] run scoreboard players add @s MeatTrough 1
execute as @e[tag=food_trough,tag=!corpse] at @s unless score @s FishTrough matches 1.. unless score @s PlantTrough matches 1.. if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:chicken",Count:1b}}] run scoreboard players add @s MeatTrough 1
execute as @e[tag=food_trough,tag=!corpse] at @s unless score @s FishTrough matches 1.. unless score @s PlantTrough matches 1.. if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:rabbit",Count:1b}}] run scoreboard players add @s MeatTrough 1
execute as @e[tag=food_trough,tag=!corpse] at @s unless score @s FishTrough matches 1.. unless score @s PlantTrough matches 1.. if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:mutton",Count:1b}}] run scoreboard players add @s MeatTrough 1
execute as @e[tag=food_trough,tag=!corpse] at @s if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:cod",Count:1b}}] run kill @e[type=item,distance=..1.2]
execute as @e[tag=food_trough,tag=!corpse] at @s if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:salmon",Count:1b}}] run kill @e[type=item,distance=..1.2]
execute as @e[tag=food_trough,tag=!corpse] at @s if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:tropical_fish",Count:1b}}] run kill @e[type=item,distance=..1.2]
execute as @e[tag=food_trough,tag=!corpse] at @s if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:oak_leaves",Count:1b}}] run kill @e[type=item,distance=..1.2]
execute as @e[tag=food_trough,tag=!corpse] at @s if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:birch_leaves",Count:1b}}] run kill @e[type=item,distance=..1.2]
execute as @e[tag=food_trough,tag=!corpse] at @s if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:spruce_leaves",Count:1b}}] run kill @e[type=item,distance=..1.2]
execute as @e[tag=food_trough,tag=!corpse] at @s if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:dark_oak_leaves",Count:1b}}] run kill @e[type=item,distance=..1.2]
execute as @e[tag=food_trough,tag=!corpse] at @s if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:acacia_leaves",Count:1b}}] run kill @e[type=item,distance=..1.2]
execute as @e[tag=food_trough,tag=!corpse] at @s if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:jungle_leaves",Count:1b}}] run kill @e[type=item,distance=..1.2]
execute as @e[tag=food_trough,tag=!corpse] at @s if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:porkchop",Count:1b}}] run kill @e[type=item,distance=..1.2]
execute as @e[tag=food_trough,tag=!corpse] at @s if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:beef",Count:1b}}] run kill @e[type=item,distance=..1.2]
execute as @e[tag=food_trough,tag=!corpse] at @s if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:chicken",Count:1b}}] run kill @e[type=item,distance=..1.2]
execute as @e[tag=food_trough,tag=!corpse] at @s if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:rabbit",Count:1b}}] run kill @e[type=item,distance=..1.2]
execute as @e[tag=food_trough,tag=!corpse] at @s if entity @e[type=item,distance=..1,nbt={Item:{id:"minecraft:mutton",Count:1b}}] run kill @e[type=item,distance=..1.2]
execute as @e[tag=food_trough,tag=!corpse,tag=!corpse,scores={FishTrough=..0}] at @s run replaceitem entity @s armor.head minecraft:armor_stand{CustomModelData:10}
execute as @e[tag=food_trough,tag=!corpse,tag=!corpse,scores={MeatTrough=..0}] at @s run replaceitem entity @s armor.head minecraft:armor_stand{CustomModelData:10}
execute as @e[tag=food_trough,tag=!corpse,tag=!corpse,scores={PlantTrough=..0}] at @s run replaceitem entity @s armor.head minecraft:armor_stand{CustomModelData:10}
execute as @e[tag=food_trough,tag=!corpse,tag=!corpse,scores={FishTrough=1..4}] at @s run replaceitem entity @s armor.head minecraft:armor_stand{CustomModelData:17}
execute as @e[tag=food_trough,tag=!corpse,tag=!corpse,scores={MeatTrough=1..4}] at @s run replaceitem entity @s armor.head minecraft:armor_stand{CustomModelData:11}
execute as @e[tag=food_trough,tag=!corpse,tag=!corpse,scores={PlantTrough=1..4}] at @s run replaceitem entity @s armor.head minecraft:armor_stand{CustomModelData:14}
execute as @e[tag=food_trough,tag=!corpse,tag=!corpse,scores={FishTrough=5..9}] at @s run replaceitem entity @s armor.head minecraft:armor_stand{CustomModelData:18}
execute as @e[tag=food_trough,tag=!corpse,tag=!corpse,scores={MeatTrough=5..9}] at @s run replaceitem entity @s armor.head minecraft:armor_stand{CustomModelData:12}
execute as @e[tag=food_trough,tag=!corpse,tag=!corpse,scores={PlantTrough=5..9}] at @s run replaceitem entity @s armor.head minecraft:armor_stand{CustomModelData:15}
execute as @e[tag=food_trough,tag=!corpse,tag=!corpse,scores={FishTrough=10..}] at @s run replaceitem entity @s armor.head minecraft:armor_stand{CustomModelData:19}
execute as @e[tag=food_trough,tag=!corpse,tag=!corpse,scores={MeatTrough=10..}] at @s run replaceitem entity @s armor.head minecraft:armor_stand{CustomModelData:13}
execute as @e[tag=food_trough,tag=!corpse,tag=!corpse,scores={PlantTrough=10..}] at @s run replaceitem entity @s armor.head minecraft:armor_stand{CustomModelData:16}